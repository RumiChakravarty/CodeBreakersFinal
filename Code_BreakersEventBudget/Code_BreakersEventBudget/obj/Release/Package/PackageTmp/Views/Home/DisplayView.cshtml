@model IEnumerable<Code_BreakersEventBudget.List>

@{
    ViewBag.Title = "Display the Event and Budget";
}

<img src="~/Scripts/image/slack_for_ios_upload.png" style="width:300px; float:right" />
<h3> Welcome @ViewBag.UserName</h3>
<input id="UserID" type="hidden" name="UserID" value="@ViewBag.UserID" />
<input id="UserName" type="hidden" name="ListID" value="@ViewBag.UserName" />
@*@ViewBag.UserID
    @ViewBag.UserName*@
<h4>Please enter the event you want to shop for, event date and your budget</h4>
@*@using (Html.BeginForm("Login", "Account", new { UserId = "5" }))*@

@using (Html.BeginForm("DisplayView", "Home"))
{
    @*@Html.ValidationSummary()*@
    @Html.TextBox("UserID", null, new { @class = "form-control hidden", @value = "UserId" })


    <p>
        Enter the Event:
        @Html.TextBox("Event", null, new { @class = "form-control" })
    </p>
    @*<input name="UserId" type="text" value="@ViewBag.UserId" class="hidden"/>*@
    <p>
        Event Date:
        <input name="DDate" type="date" min="@DateTime.Now.ToString("yyyy-MM-dd")" class="form-control" />
    </p>
    <p>
        Budget for the Event:
        @Html.TextBox("Budget", null, new { @class = "form-control" })
    </p>
    <p><input type="submit" value="Add Event" /></p>

}


<h3>List of the Events @ViewBag.UserName</h3>

    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Description)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Budget)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PersonalInfo.Name)
            </th>

            <th>
                @Html.DisplayNameFor(model => model.EventDate)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Description)
                </td>
                <td>
                    $@Html.DisplayFor(modelItem => item.Budget)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PersonalInfo.Name)
                </td>
                <td>
                    @Html.DisplayFor(model => item.EventDate)
                </td>
                <td>
                    @Html.ActionLink("Continue Shopping", "ContinueShopping", new { id = item.ListID }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.ListID })
                </td>
            </tr>
        }

    </table>
